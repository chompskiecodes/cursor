2025-07-11 12:44:50,831 - INFO - Starting comprehensive webhook test - Log file: booking_test_logs\test_all_webhooks_20250711_124450.log
2025-07-11 12:44:50,832 - INFO - === REDUCED WEBHOOK TEST: ONLY FAILING TESTS ===
2025-07-11 12:44:50,834 - INFO - Webhook API: http://localhost:8000
2025-07-11 12:44:50,834 - INFO - Test phone number: 0478621276
2025-07-11 12:44:50,835 - INFO - 
--- Testing find_next_available_any_practitioner ---
2025-07-11 12:44:50,835 - INFO - Endpoint: /find-next-available
2025-07-11 12:44:50,836 - INFO - Payload: {
  "sessionId": "test_comprehensive_123",
  "dialedNumber": "0478621276",
  "maxDays": 14,
  "service": "Massage",
  "locationId": "1717010852512540252",
  "locationName": "balmain"
}
2025-07-11 12:45:06,186 - INFO - Status: 200
2025-07-11 12:45:06,188 - INFO - Response: {"success":true,"found":true,"message":"Brendan Smith's next availability for Massage is Friday, July 11 at 2:00 PM at Location 2 and Friday, July 11 at 3:00 PM at Location 2.","slots":["Friday, July 11 at 2:00 PM at Location 2","Friday, July 11 at 3:00 PM at Location 2"],"sessionId":"test_comprehensive_123"}
2025-07-11 12:45:06,190 - INFO - SUCCESS: find_next_available_any_practitioner
2025-07-11 12:45:06,191 - INFO - 
--- Testing appointment_handler_book ---
2025-07-11 12:45:06,193 - INFO - Endpoint: /appointment-handler
2025-07-11 12:45:06,194 - INFO - Payload: {
  "patientName": "Test Patient Comprehensive",
  "patientPhone": "0412345678",
  "practitioner": "Brendan Smith",
  "appointmentType": "Massage",
  "appointmentDate": "2025-07-14",
  "appointmentTime": "14:00",
  "business_id": "1717010852512540252",
  "location": "balmain",
  "action": "book",
  "sessionId": "test_comprehensive_123",
  "dialedNumber": "0478621276"
}
2025-07-11 12:45:17,976 - INFO - Status: 200
2025-07-11 12:45:17,978 - INFO - Response: {"success":false,"error":"time_not_available","message":"I'm sorry, {display_time} is not available on {display_date}. Brendan Smith has these times available: 9:00 AM, 10:00 AM, 11:00 AM, 12:00 PM, 1:00 PM. Which time would you prefer?","sessionId":"test_comprehensive_123","availableTimes":["9:00 AM","10:00 AM","11:00 AM","12:00 PM","1:00 PM"]}
2025-07-11 12:45:17,979 - INFO - SUCCESS: appointment_handler_book
2025-07-11 12:45:17,981 - INFO - 
==================================================
2025-07-11 12:45:17,982 - INFO - TEST SUMMARY
2025-07-11 12:45:17,984 - INFO - ==================================================
2025-07-11 12:45:17,986 - INFO - find_next_available_any_practitioner: PASS
2025-07-11 12:45:17,988 - INFO - appointment_handler_book: PASS
2025-07-11 12:45:17,990 - INFO - 
Overall: 2/2 tests passed
2025-07-11 12:45:17,991 - INFO - 
ALL SELECTED WEBHOOK TESTS PASSED!
2025-07-11 12:45:17,992 - INFO - 
Detailed results saved to: booking_test_logs\test_all_webhooks_20250711_124450.log
